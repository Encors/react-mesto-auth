{"version":3,"sources":["images/logo.svg","images/register_ok.svg","images/not_register.svg","components/Header.jsx","contexts/CurrentUserContext.js","components/Card.jsx","components/Main.jsx","components/Footer.jsx","components/Popup.jsx","components/ImagePopup.jsx","utils/api.jsx","components/PopupWithForm.jsx","components/EditProfilePopup.jsx","components/AddPlacePopup.jsx","components/EditAvatarPopup.jsx","components/ConfirmationPopup.jsx","components/ProtectedRoute.jsx","components/LoginAndRegisterForm.jsx","components/Register.jsx","components/Login.jsx","components/InfoTooltip.jsx","utils/authApi.jsx","components/App.jsx","reportWebVitals.js","index.js"],"names":["module","exports","__webpack_require__","p","Header","_ref","loggedIn","userEmail","onSignOut","react_default","a","createElement","className","src","logo","alt","onClick","dist","path","element","react_router_dom_dist","to","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","concat","link","name","type","length","Main","onEditProfile","onEditAvatar","onAddPlace","cards","cardsElements","map","key","avatar","about","aria-label","Footer","Date","getFullYear","Popup","children","isOpen","onClose","classSelector","handleClosePopup","useCallback","evt","target","classList","contains","useEffect","document","addEventListener","removeEventListener","ImagePopup","api","Api","baseUrl","headers","Object","classCallCheck","this","_url","_headers","createClass","value","res","ok","json","Promise","reject","status","statusText","url","options","fetch","then","_getResponse","_request","_ref2","method","body","JSON","stringify","_ref3","cardId","inputValues","all","getUserInfo","getInitialCards","authorization","Content-Type","PopupWithForm","formName","title","submitBtnText","onSubmit","disabled","EditProfilePopup","onUpdateUser","isLoading","_React$useState","useState","_React$useState2","slicedToArray","setName","_React$useState3","_React$useState4","description","setDescription","e","preventDefault","placeholder","id","required","minLength","maxLength","onChange","AddPlacePopup","_useState","_useState2","formValue","setFormValue","_useState3","_useState4","errorMessage","setErrorMessage","_useState5","_useState6","isValid","setIsValid","handleChange","_e$target","objectSpread","defineProperty","validationMessage","closest","checkValidity","nameCard","linkCard","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","current","ref","ConfirmationPopup","deletingCard","ProtectedRouteElement","Component","component","props","objectWithoutProperties","replace","LoginAndRegisterForm","Register","onRegister","password","email","Login","onLogin","InfoTooltip","responseInfo","register_ok","not_register","text","BASE_URL","request","getResponse","register","Accept","login","checkToken","token","Authorization","App","isOpenAvatarPopup","setIsOpenAvatarPopup","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isOpenPlacePopup","setIsOpenPlacePopup","_useState7","_useState8","isOpenSelectedCard","setIsOpenSelectedCard","_useState9","_useState10","selectedCard","setSelectedCard","_useState11","_useState12","setCurrentUser","_useState13","_useState14","setCards","_useState15","_useState16","loadingEditProfilePopup","setLoadingEditProfilePopup","_useState17","_useState18","loadingAddPlacePopup","setLoadingAddPlacePopup","_useState19","_useState20","loadingConfirmationPopup","setLoadingConfirmationPopup","_useState21","_useState22","loadingEditAvatarPopup","setLoadingEditAvatarPopup","_useState23","_useState24","isOpenConfirmationPopup","setIsOpenConfirmationPopup","_useState25","_useState26","setDeletingCard","navigate","useNavigate","_useState27","_useState28","setLoggedIn","_useState29","_useState30","setUserEmail","_useState31","_useState32","isOpenInfoTooltip","setOpenInfoTooltip","_useState33","_useState34","setResponseInfo","jwt","localStorage","getItem","data","catch","err","console","log","getAllStartedInfo","user","error","closeAllPopups","Provider","removeItem","_ref5","finally","_ref6","setItem","ProtectedRoute","deleteLike","newCard","state","c","putLike","setUserInfo","newData","_ref4","addNewCard","toConsumableArray","removeCard","filter","setNewAvatar","reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.4d993339.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.7baba3c1.svg\";","module.exports = __webpack_public_path__ + \"static/media/register_ok.e38b395c.svg\";","module.exports = __webpack_public_path__ + \"static/media/not_register.4072126c.svg\";","import logo from \"../images/logo.svg\";\r\nimport React from \"react\";\r\nimport { Link, Route, Routes } from \"react-router-dom\";\r\n\r\nexport default function Header({ loggedIn, userEmail, onSignOut }) {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={logo} alt=\"Логотип Место\" />\r\n      {loggedIn ? (\r\n        <div className=\"header__user-elements\">\r\n          <p className=\"header__user-email\">{userEmail}</p>\r\n          <button className=\"header__logout button\" onClick={onSignOut}>\r\n            Выйти\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        <div className=\"\">\r\n          <Routes>\r\n            <Route\r\n              path=\"/sign-up\"\r\n              element={\r\n                <Link to={\"/sign-in\"} className=\"header__nav-link link\">\r\n                  Войти\r\n                </Link>\r\n              }\r\n            />\r\n            <Route\r\n              path=\"/sign-in\"\r\n              element={\r\n                <Link to={\"/sign-up\"} className=\"header__nav-link link\">\r\n                  Регистрация\r\n                </Link>\r\n              }\r\n            />\r\n          </Routes>\r\n        </div>\r\n      )}\r\n    </header>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nexport default function Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = `photo-card__like-btn button ${isLiked &&\r\n    \"photo-card__like-btn_active\"}`;\r\n\r\n  function handleCardClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleTrashClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <article className=\"photo-card\">\r\n      <img\r\n        className=\"photo-card__photo\"\r\n        src={card.link}\r\n        alt={card.name}\r\n        onClick={handleCardClick}\r\n      />\r\n      {isOwn && (\r\n        <button\r\n          className=\"photo-card__remove-btn button\"\r\n          type=\"button\"\r\n          onClick={handleTrashClick}\r\n        ></button>\r\n      )}\r\n      <div className=\"photo-card__decription\">\r\n        <h2 className=\"photo-card__title\">{card.name}</h2>\r\n        <div className=\"photo-card__like-section\">\r\n          <button\r\n            className={cardLikeButtonClassName}\r\n            type=\"button\"\r\n            onClick={handleLikeClick}\r\n          ></button>\r\n          <span className=\"photo-card__like-count\">{card.likes.length}</span>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n","import Card from \"./Card\";\r\nimport React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nexport default function Main({\r\n  onEditProfile,\r\n  onEditAvatar,\r\n  onAddPlace,\r\n  onCardClick,\r\n  cards,\r\n  onCardLike,\r\n  onCardDelete,\r\n}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const cardsElements = cards.map((card) => (\r\n    <Card\r\n      key={card._id}\r\n      card={card}\r\n      onCardClick={onCardClick}\r\n      onCardLike={onCardLike}\r\n      onCardDelete={onCardDelete}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__picture\">\r\n          <img src={currentUser.avatar} className=\"profile__avatar\" alt=\"Фотография профиля\" />\r\n          <button\r\n            onClick={onEditAvatar}\r\n            className=\"profile__picture-btn button\"\r\n            type=\"button\"\r\n          ></button>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n          <p className=\"profile__job\">{currentUser.about}</p>\r\n          <button\r\n            onClick={onEditProfile}\r\n            className=\"profile__edit-btn button\"\r\n            type=\"button\"\r\n          ></button>\r\n        </div>\r\n        <button\r\n          onClick={onAddPlace}\r\n          className=\"profile__add-btn button\"\r\n          type=\"button\"\r\n        ></button>\r\n      </section>\r\n      <section className=\"gallery\" aria-label=\"Секция фотографий\">\r\n        {cardsElements}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; {new Date().getFullYear()}. Акаева Диана</p>\r\n    </footer>\r\n  );\r\n}\r\n","import React, { useEffect, useCallback } from \"react\";\r\n\r\nexport default function Popup({ children, isOpen, onClose, classSelector }) {\r\n  //Закрытие попапа\r\n\r\n  const handleClosePopup = useCallback(\r\n    (evt) => {\r\n      if (\r\n        evt.target.classList.contains(\"popup_opened\") ||\r\n        evt.target.classList.contains(\"popup__close-btn\") ||\r\n        evt.key === \"Escape\"\r\n      ) {\r\n        onClose();\r\n      }\r\n    },\r\n    [onClose]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      document.addEventListener(\"mousedown\", handleClosePopup);\r\n      document.addEventListener(\"keydown\", handleClosePopup);\r\n\r\n      return () => {\r\n        document.removeEventListener(\"keydown\", handleClosePopup);\r\n        document.removeEventListener(\"mousedown\", handleClosePopup);\r\n      };\r\n    }\r\n  }, [isOpen, handleClosePopup]);\r\n\r\n  //Открытие попапа\r\n  return (\r\n    <div className={`popup popup_type_${classSelector} ${isOpen ? \"popup_opened\" : \"\"} `}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Popup from \"./Popup\";\r\n\r\nexport default function ImagePopup({ isOpen, card, classSelector, onClose }) {\r\n  return (\r\n    <Popup isOpen={isOpen} classSelector={classSelector} onClose={onClose}>\r\n      <div className=\"popup__container-photo\">\r\n        <button className=\"popup__close-btn button\" type=\"button\" />\r\n        <figure className=\"popup__figure\">\r\n          <img\r\n            className=\"popup__photo\"\r\n            src={card.link}\r\n            alt={`Картинка города: ${card.name}`}\r\n          />\r\n          <figcaption className=\"popup__caption\">{card.name}</figcaption>\r\n        </figure>\r\n      </div>\r\n    </Popup>\r\n  );\r\n}\r\n","export class Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._url = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  _getResponse(res) {\r\n    return res.ok\r\n      ? res.json()\r\n      : Promise.reject(`Ошибка: ${res.status} ${res.statusText})`);\r\n  }\r\n\r\n  _request(url, options) {\r\n    return fetch(url, options).then(this._getResponse);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return this._request(this._url + `/cards`, {\r\n      headers: this._headers,\r\n    });\r\n  }\r\n\r\n  getUserInfo() {\r\n    return this._request(this._url + \"/users/me\", {\r\n      headers: this._headers,\r\n    });\r\n  }\r\n\r\n  setUserInfo({ name, about }) {\r\n    return this._request(this._url + \"/users/me\", {\r\n      headers: this._headers,\r\n      method: \"PATCH\",\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: about,\r\n      }),\r\n    });\r\n  }\r\n\r\n  addNewCard({ name, link }) {\r\n    return this._request(this._url + \"/cards\", {\r\n      headers: this._headers,\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link,\r\n      }),\r\n    });\r\n  }\r\n\r\n  putLike(cardId) {\r\n    return this._request(this._url + `/cards/${cardId}/likes`, {\r\n      headers: this._headers,\r\n      method: \"PUT\",\r\n    });\r\n  }\r\n\r\n  removeCard(cardId) {\r\n    return this._request(this._url + `/cards/${cardId}`, {\r\n      headers: this._headers,\r\n      method: \"DELETE\",\r\n    });\r\n  }\r\n\r\n  deleteLike(cardId) {\r\n    return this._request(this._url + `/cards/${cardId}/likes`, {\r\n      headers: this._headers,\r\n      method: \"DELETE\",\r\n    });\r\n  }\r\n\r\n  setNewAvatar(inputValues) {\r\n    return this._request(this._url + `/users/me/avatar`, {\r\n      headers: this._headers,\r\n      method: \"PATCH\",\r\n      body: JSON.stringify({\r\n        avatar: inputValues.avatar,\r\n      }),\r\n    });\r\n  }\r\n\r\n  getAllStartedInfo() {\r\n    return Promise.all([this.getUserInfo(), this.getInitialCards()]);\r\n  }\r\n}\r\n\r\nexport const api = new Api({\r\n  baseUrl: \"https://nomoreparties.co/v1/cohort-54\",\r\n  headers: {\r\n    authorization: \"50abc53f-8d3e-448b-b494-88b8f2ced152\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n","import React from \"react\";\r\nimport Popup from \"./Popup\";\r\n\r\nexport default function PopupWithForm({\r\n  classSelector,\r\n  isOpen,\r\n  formName,\r\n  title,\r\n  submitBtnText,\r\n  children,\r\n  onSubmit,\r\n  onClose,\r\n  disabled,\r\n}) {\r\n  return (\r\n    <Popup isOpen={isOpen} classSelector={classSelector} onClose={onClose}>\r\n      <div className=\"popup__container\">\r\n        <button className=\"popup__close-btn button\" type=\"button\"></button>\r\n        <h2 className=\"popup__title\">{title}</h2>\r\n        <form className=\"form\" name={formName} onSubmit={onSubmit}>\r\n          {children}\r\n          <button\r\n            className={\r\n              disabled\r\n                ? \"form__submit-btn  form__submit-btn_disabled\"\r\n                : \"form__submit-btn  button\"\r\n            }\r\n            type=\"submit\"\r\n          >\r\n            {submitBtnText}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </Popup>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nexport default function EditProfilePopup({ isOpen, onUpdateUser, isLoading, onClose }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState(\"\");\r\n  const [description, setDescription] = React.useState(\"\");\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, isOpen]);\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      classSelector=\"edit-profile\"\r\n      formName=\"profile\"\r\n      title={\"Редактировать профиль\"}\r\n      submitBtnText={isLoading ? `Сохранение...` : `Сохранить`}\r\n      isOpen={isOpen}\r\n      onSubmit={handleSubmit}\r\n      onClose={onClose}\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        className=\"form__input form__input_type_name\"\r\n        placeholder=\"Имя\"\r\n        name=\"nameProfile\"\r\n        id=\"name-profile\"\r\n        required\r\n        minLength={2}\r\n        maxLength={40}\r\n        value={name || \"\"}\r\n        onChange={handleChangeName}\r\n      />\r\n      <span id=\"name-profile-error\" className=\"error\" />\r\n      <input\r\n        type=\"text\"\r\n        className=\"form__input form__input_type_job\"\r\n        placeholder=\"О себе\"\r\n        name=\"jobProfile\"\r\n        id=\"job-profile\"\r\n        required\r\n        minLength={2}\r\n        maxLength={200}\r\n        value={description || \"\"}\r\n        onChange={handleChangeDescription}\r\n      />\r\n      <span id=\"job-profile-error\" className=\"error\" />\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function AddPlacePopup({ isOpen, onAddPlace, isLoading, onClose }) {\r\n  const [formValue, setFormValue] = useState({});\r\n  const [errorMessage, setErrorMessage] = useState({});\r\n  const [isValid, setIsValid] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n\r\n    setFormValue({\r\n      ...formValue,\r\n      [name]: value,\r\n    });\r\n\r\n    setErrorMessage({\r\n      ...errorMessage,\r\n      [name]: e.target.validationMessage,\r\n    });\r\n\r\n    setIsValid(e.target.closest(\"form\").checkValidity());\r\n  };\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onAddPlace({ name: formValue.nameCard, link: formValue.linkCard });\r\n  }\r\n\r\n  useEffect(() => {\r\n    setErrorMessage(\"\");\r\n    if (isOpen) {\r\n      setFormValue(\"\");\r\n      setIsValid(false);\r\n    }\r\n  }, [isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      disabled={!isValid}\r\n      classSelector=\"add-card\"\r\n      formName=\"card\"\r\n      title={\"Новое место\"}\r\n      submitBtnText={isLoading ? `Создание...` : `Создать`}\r\n      isOpen={isOpen}\r\n      onSubmit={handleSubmit}\r\n      onClose={onClose}\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        className={\r\n          !errorMessage.nameCard ? \"form__input \" : \"form__input form__input_type_error\"\r\n        }\r\n        placeholder=\"Название\"\r\n        name=\"nameCard\"\r\n        id=\"name-card\"\r\n        required\r\n        minLength={2}\r\n        onChange={handleChange}\r\n        maxLength={30}\r\n        value={formValue.nameCard || \"\"}\r\n      />\r\n      <span id=\"name-card-error\" className=\"error\">\r\n        {errorMessage.nameCard}\r\n      </span>\r\n      <input\r\n        type=\"url\"\r\n        className={\r\n          !errorMessage.linkCard ? \"form__input\" : \"form__input form__input_type_error\"\r\n        }\r\n        placeholder=\"Ссылка на картинку\"\r\n        name=\"linkCard\"\r\n        id=\"link-card\"\r\n        onChange={handleChange}\r\n        required\r\n        value={formValue.linkCard || \"\"}\r\n      />\r\n      <span id=\"link-card-error\" className=\"error\">\r\n        {errorMessage.linkCard}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React, { useRef, useEffect } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function EditAvatarPopup({ isOpen, onUpdateAvatar, isLoading, onClose }) {\r\n  const inputRef = useRef(\"\");\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar({\r\n      avatar: inputRef.current.value /* Значение инпута, полученное с помощью рефа */,\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    inputRef.current.value = \"\";\r\n  }, [isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      classSelector=\"set-avatar\"\r\n      formName=\"avatar\"\r\n      title={\"Обновить аватар\"}\r\n      submitBtnText={isLoading ? `Сохранение...` : `Сохранить`}\r\n      isOpen={isOpen}\r\n      onSubmit={handleSubmit}\r\n      onClose={onClose}\r\n    >\r\n      <input\r\n        type=\"url\"\r\n        className=\"form__input form__input_type_img-link\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        name=\"avatar\"\r\n        id=\"link-avatar\"\r\n        required\r\n        ref={inputRef}\r\n      />\r\n      <span id=\"link-avatar-error\" className=\"error\" />\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function ConfirmationPopup({\r\n  deletingCard,\r\n  isOpen,\r\n  isLoading,\r\n  onCardDelete,\r\n  onClose,\r\n}) {\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onCardDelete(deletingCard);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      classSelector=\"confirm\"\r\n      formName=\"confirm\"\r\n      title={\"Вы уверены?\"}\r\n      submitBtnText={isLoading ? `Удаление...` : `Да`}\r\n      onSubmit={handleSubmit}\r\n      onClose={onClose}\r\n    ></PopupWithForm>\r\n  );\r\n}\r\n","// import React from \"react\";\r\n// import { useNavigate } from \"react-router-dom\";\r\n\r\n// export const ProtectedRouteElement = ({ component: Component, ...props }) => {\r\n//   return props.loggedIn ? <Component {...props} /> : useNavigate(\"/sign-in\");\r\n// };\r\n\r\nimport React from \"react\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nconst ProtectedRouteElement = ({ component: Component, ...props }) => {\r\n  return props.loggedIn ? <Component {...props} /> : <Navigate to=\"/sign-in\" replace />;\r\n};\r\n\r\nexport default ProtectedRouteElement;\r\n","import React from \"react\";\r\n\r\nexport default function LoginAndRegisterForm({\r\n  children,\r\n  submitBtnText,\r\n  onSubmit,\r\n  disabled,\r\n}) {\r\n  return (\r\n    <form className=\"form form_type_login\" name=\"login\" onSubmit={onSubmit}>\r\n      {children}\r\n      <button\r\n        className={\r\n          disabled\r\n            ? \"form__submit-btn form__submit-btn_type_login form__submit-btn_disabled\"\r\n            : \"form__submit-btn form__submit-btn_type_login button\"\r\n        }\r\n        type=\"submit\"\r\n      >\r\n        {submitBtnText}\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport LoginAndRegisterForm from \"./LoginAndRegisterForm\";\r\n\r\nexport default function Register({ onRegister }) {\r\n  const [formValue, setFormValue] = useState({ password: \"\", email: \"\" });\r\n  const [errorMessage, setErrorMessage] = useState({});\r\n  const [isValid, setIsValid] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n\r\n    setFormValue({\r\n      ...formValue,\r\n      [name]: value,\r\n    });\r\n\r\n    setErrorMessage({\r\n      ...errorMessage,\r\n      [name]: e.target.validationMessage,\r\n    });\r\n\r\n    setIsValid(e.target.closest(\"form\").checkValidity());\r\n  };\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onRegister(formValue).then(() => {\r\n      setErrorMessage(\"\");\r\n      setFormValue({ password: \"\", email: \"\" });\r\n    });\r\n  }\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"login\">\r\n        <h2 className=\"login__title\">Регистрация</h2>\r\n        <LoginAndRegisterForm\r\n          submitBtnText=\"Зарегистрироваться\"\r\n          onSubmit={handleSubmit}\r\n          disabled={!isValid}\r\n        >\r\n          <input\r\n            className={\r\n              !errorMessage.email\r\n                ? \"form__input form__input_type_login\"\r\n                : \"form__input form__input_type_login form__input_type_error\"\r\n            }\r\n            type=\"email\"\r\n            name=\"email\"\r\n            value={formValue.email || \"\"}\r\n            placeholder=\"Email\"\r\n            onChange={handleChange}\r\n            minLength=\"2\"\r\n            required\r\n          ></input>\r\n          <span className=\"error\">{errorMessage.email}</span>\r\n          <input\r\n            className={\r\n              !errorMessage.password\r\n                ? \"form__input form__input_type_login\"\r\n                : \"form__input form__input_type_login form__input_type_error\"\r\n            }\r\n            name=\"password\"\r\n            type=\"password\"\r\n            value={formValue.password || \"\"}\r\n            placeholder=\"Пароль\"\r\n            onChange={handleChange}\r\n            minLength=\"2\"\r\n            required\r\n          ></input>\r\n          <span className=\"error\">{errorMessage.password}</span>\r\n        </LoginAndRegisterForm>\r\n        <Link to=\"/sign-in\" className=\"login__extra-link link\">\r\n          Уже зарегистрированы? Войти\r\n        </Link>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport LoginAndRegisterForm from \"./LoginAndRegisterForm\";\r\n\r\nexport default function Login({ onLogin }) {\r\n  const [formValue, setFormValue] = useState({ password: \"\", email: \"\" });\r\n  const [errorMessage, setErrorMessage] = useState({});\r\n  const [isValid, setIsValid] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n\r\n    setFormValue({\r\n      ...formValue,\r\n      [name]: value,\r\n    });\r\n\r\n    setErrorMessage({\r\n      ...errorMessage,\r\n      [name]: e.target.validationMessage,\r\n    });\r\n\r\n    setIsValid(e.target.closest(\"form\").checkValidity());\r\n  };\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onLogin(formValue).then(() => {\r\n      setFormValue({ password: \"\", email: \"\" });\r\n      setErrorMessage(\"\");\r\n    });\r\n  }\r\n\r\n  // useEffect(() => {\r\n  //   console.log(`state is `, formValue);\r\n  //   console.log(`state is `, isValid);\r\n  //   console.log(`state is `, errorMessage);\r\n  // }, [formValue]);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"login\">\r\n        <h2 className=\"login__title\">Вход</h2>\r\n\r\n        <LoginAndRegisterForm\r\n          submitBtnText=\"Войти\"\r\n          onSubmit={handleSubmit}\r\n          disabled={!isValid}\r\n        >\r\n          <input\r\n            className={\r\n              !errorMessage.email\r\n                ? \"form__input form__input_type_login\"\r\n                : \"form__input form__input_type_login form__input_type_error\"\r\n            }\r\n            type=\"email\"\r\n            name=\"email\"\r\n            value={formValue.email || \"\"}\r\n            placeholder=\"Email\"\r\n            onChange={handleChange}\r\n            minLength=\"2\"\r\n            required\r\n          />\r\n          <span className=\"error\">{errorMessage.email}</span>\r\n          <input\r\n            className={\r\n              !errorMessage.password\r\n                ? \"form__input form__input_type_login\"\r\n                : \"form__input form__input_type_login form__input_type_error\"\r\n            }\r\n            name=\"password\"\r\n            type=\"password\"\r\n            value={formValue.password || \"\"}\r\n            placeholder=\"Пароль\"\r\n            onChange={handleChange}\r\n            minLength=\"5\"\r\n            required\r\n          />\r\n          <span className=\"error\">{errorMessage.password}</span>\r\n        </LoginAndRegisterForm>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport register_ok from \"../images/register_ok.svg\";\r\nimport not_register from \"../images/not_register.svg\";\r\nimport Popup from \"./Popup\";\r\n\r\nexport default function InfoTooltip({ onClose, isOpen, responseInfo, classSelector }) {\r\n  return (\r\n    <Popup isOpen={isOpen} classSelector={classSelector} onClose={onClose}>\r\n      <div className=\"popup__container popup__container-info-tooltip\">\r\n        <button className=\"popup__close-btn button\" type=\"button\" />\r\n        <img\r\n          src={responseInfo.status ? register_ok : not_register}\r\n          className=\"popup__image\"\r\n          alt=\"Иконка статуса регистрации / авторизации\"\r\n        />\r\n        <h2 className=\"popup__title popup__title_type_info-tooltip\">\r\n          {responseInfo.text}\r\n        </h2>\r\n      </div>\r\n    </Popup>\r\n  );\r\n}\r\n","const BASE_URL = \"https://auth.nomoreparties.co\";\r\n\r\nfunction getResponse(res) {\r\n  return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status} ${res.statusText}`);\r\n}\r\n\r\nfunction request(url, options) {\r\n  return fetch(url, options).then((res) => getResponse(res));\r\n}\r\n\r\nexport const register = (password, email) => {\r\n  return request(BASE_URL + \"/signup\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(password, email),\r\n  });\r\n};\r\n\r\nexport const login = (password, email) => {\r\n  return request(BASE_URL + \"/signin\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(password, email),\r\n  });\r\n};\r\n\r\nexport const checkToken = (token) => {\r\n  return request(BASE_URL + \"/users/me\", {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  });\r\n};\r\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport { Routes, Route, useNavigate } from \"react-router-dom\";\nimport \"../index.css\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { api } from \"../utils/api\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport ConfirmationPopup from \"./ConfirmationPopup\";\nimport ProtectedRouteElement from \"./ProtectedRoute\";\nimport Register from \"./Register\";\nimport Login from \"./Login\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport { register, login, checkToken } from \"../utils/authApi\";\n\nexport default function App() {\n  const [isOpenAvatarPopup, setIsOpenAvatarPopup] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isOpenPlacePopup, setIsOpenPlacePopup] = useState(false);\n  const [isOpenSelectedCard, setIsOpenSelectedCard] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({});\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [loadingEditProfilePopup, setLoadingEditProfilePopup] = useState(false);\n  const [loadingAddPlacePopup, setLoadingAddPlacePopup] = useState(false);\n  const [loadingConfirmationPopup, setLoadingConfirmationPopup] = useState(false);\n  const [loadingEditAvatarPopup, setLoadingEditAvatarPopup] = useState(false);\n  const [isOpenConfirmationPopup, setIsOpenConfirmationPopup] = useState(false);\n  const [deletingCard, setDeletingCard] = useState(null);\n  const navigate = useNavigate();\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userEmail, setUserEmail] = useState(\"\");\n  const [isOpenInfoTooltip, setOpenInfoTooltip] = useState(false);\n  const [responseInfo, setResponseInfo] = useState({\n    status: false,\n    text: \"\",\n  });\n\n  useEffect(() => {\n    const jwt = localStorage.getItem(\"jwt\");\n\n    if (jwt) {\n      checkToken(jwt)\n        .then((res) => {\n          if (res) {\n            setLoggedIn(true);\n            setUserEmail(res.data.email);\n            navigate(\"/\");\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    } else {\n      navigate(\"/sign-in\");\n    }\n  }, []);\n\n  useEffect(() => {\n    if (loggedIn) {\n      api\n        .getAllStartedInfo()\n        .then(([user, cards]) => {\n          setCurrentUser(user);\n          setCards(cards);\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n  }, [loggedIn]);\n\n  function handleConfirmation(card) {\n    setIsOpenConfirmationPopup(true);\n    setDeletingCard(card);\n  }\n\n  function handleCardClick(card) {\n    setIsOpenSelectedCard(true);\n    setSelectedCard(card);\n  }\n\n  function handleEditAvatarClick() {\n    setIsOpenAvatarPopup(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsOpenPlacePopup(true);\n  }\n\n  const closeAllPopups = useCallback(() => {\n    setIsOpenAvatarPopup(false);\n    setIsEditProfilePopupOpen(false);\n    setIsOpenPlacePopup(false);\n    setIsOpenSelectedCard(false);\n    setIsOpenConfirmationPopup(false);\n    setDeletingCard(null);\n    setOpenInfoTooltip(false);\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    if (!isLiked) {\n      api\n        .putLike(card._id)\n        .then((newCard) => {\n          setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    } else {\n      api\n        .deleteLike(card._id)\n        .then((newCard) => {\n          setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n  }\n\n  function handleUpdateUser({ name, about }) {\n    setLoadingEditProfilePopup(true);\n    api\n      .setUserInfo({ name, about })\n      .then((newData) => {\n        setCurrentUser(newData);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setLoadingEditProfilePopup(false);\n      });\n  }\n\n  function handleUpdateAvatar(value) {\n    setLoadingEditAvatarPopup(true);\n    api\n      .setNewAvatar(value)\n      .then((newData) => {\n        setCurrentUser(newData);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setLoadingEditAvatarPopup(false);\n      });\n  }\n\n  function handleAddPlaceSubmit({ name, link }) {\n    setLoadingAddPlacePopup(true);\n    api\n      .addNewCard({ name, link })\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setLoadingAddPlacePopup(false);\n      });\n  }\n\n  function handleCardDelete(deletingCard) {\n    setLoadingConfirmationPopup(true);\n    api\n      .removeCard(deletingCard._id)\n      .then(() => {\n        setCards((state) => {\n          return state.filter((card) => card._id !== deletingCard._id);\n        });\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setLoadingConfirmationPopup(false);\n      });\n  }\n\n  function handleRegister({ password, email }) {\n    return register(password, email)\n      .then((data) => {\n        if (data) {\n          setResponseInfo({\n            status: true,\n            text: \"Вы успешно зарегистрировались!\",\n          });\n          navigate(\"/sign-in\", { replace: true });\n        }\n      })\n      .catch((err) => {\n        setResponseInfo({\n          status: false,\n          text: `Что-то пошло не так! Попробуйте ещё раз. ${err}`,\n        });\n      })\n      .finally(() => setOpenInfoTooltip(true));\n  }\n\n  function handleLogin({ password, email }) {\n    return login({ password, email })\n      .then((token) => {\n        if (token) {\n          localStorage.setItem(\"jwt\", token.token);\n          setLoggedIn(true);\n          setUserEmail(email);\n          navigate(\"/\");\n        }\n      })\n      .catch((err) => {\n        if (err === \"Ошибка: 401 Unauthorized\") {\n          setOpenInfoTooltip(true);\n          setResponseInfo({\n            status: false,\n            text: \"Такой аккаунт не зарегистрирован\",\n          });\n        } else {\n          setOpenInfoTooltip(true);\n          setResponseInfo({\n            status: false,\n            text: `Что-то пошло не так! Попробуйте ещё раз. ${err}`,\n          });\n        }\n      });\n  }\n\n  function handleSignOut() {\n    localStorage.removeItem(\"jwt\");\n    navigate(\"/sign-in\");\n    setLoggedIn(false);\n    setUserEmail(\"\");\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header loggedIn={loggedIn} userEmail={userEmail} onSignOut={handleSignOut} />\n        <Routes>\n          <Route path=\"/sign-up\" element={<Register onRegister={handleRegister} />} />\n          <Route path=\"/sign-in\" element={<Login onLogin={handleLogin} />} />\n          <Route\n            path=\"/\"\n            element={\n              <ProtectedRouteElement\n                component={Main}\n                loggedIn={loggedIn}\n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAddPlaceClick}\n                onEditAvatar={handleEditAvatarClick}\n                onCardClick={handleCardClick}\n                onCardLike={handleCardLike}\n                cards={cards}\n                onCardDelete={handleConfirmation}\n              />\n            }\n          />\n        </Routes>\n        <Footer />\n        <EditProfilePopup\n          onClose={closeAllPopups}\n          isOpen={isEditProfilePopupOpen}\n          onUpdateUser={handleUpdateUser}\n          isLoading={loadingEditProfilePopup}\n        />\n        <AddPlacePopup\n          onClose={closeAllPopups}\n          isOpen={isOpenPlacePopup}\n          onAddPlace={handleAddPlaceSubmit}\n          isLoading={loadingAddPlacePopup}\n        />\n        <ConfirmationPopup\n          onClose={closeAllPopups}\n          isOpen={isOpenConfirmationPopup}\n          isLoading={loadingConfirmationPopup}\n          onCardDelete={handleCardDelete}\n          deletingCard={deletingCard}\n        />\n        <EditAvatarPopup\n          onClose={closeAllPopups}\n          isOpen={isOpenAvatarPopup}\n          onUpdateAvatar={handleUpdateAvatar}\n          isLoading={loadingEditAvatarPopup}\n        />\n        <ImagePopup\n          isOpen={isOpenSelectedCard}\n          card={selectedCard}\n          onClose={closeAllPopups}\n          classSelector=\"photo\"\n        />\n        <InfoTooltip\n          isOpen={isOpenInfoTooltip}\n          onClose={closeAllPopups}\n          responseInfo={responseInfo}\n          classSelector=\"info-tooltip\"\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter } from 'react-router-dom';\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}